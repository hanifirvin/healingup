classDiagram
    class MyApp {
        -ThemeMode _themeMode
        -AppStateNotifier _appStateNotifier
        -GoRouter _router
        +setThemeMode(ThemeMode)
        +build()
    }

    class FFAppState {
        -SharedPreferences prefs
        -List<String> _recentSearches
        -DocumentReference _singleUser
        -List<DocumentReference> _multipleUser
        -int _equalBreath
        -int _boxBreath
        -int _four78Breath
        +initializePersistedState()
        +update()
    }

    class BaseAuthUser {
        +String uid
        +String email
        +bool emailVerified
        +String displayName
        +String photoUrl
        +bool isAnonymous
    }

    class FirebaseAuthUser {
        +User user
        +Map<String, dynamic> additionalUserInfo
        +authenticationStatus
    }

    class AuthManager {
        +handlePhoneAuthStateChanges()
        +handleOAuthStateChanges()
        +signInWithEmail()
        +signInWithGoogle()
        +signOut()
    }

    class NavBarPage {
        -int _selectedIndex
        +build()
        +onItemTapped()
    }

    class AgoraVideoCall {
        -AgoraClient client
        -String channelName
        -String token
        +initAgora()
        +build()
    }

    class DoctorPages {
        -FirebaseFirestore firestore
        +getDoctorList()
        +bookAppointment()
        +build()
    }

    class KonselingPages {
        -FirebaseFirestore firestore
        +getKonselingList()
        +scheduleKonseling()
        +build()
    }

    MyApp --> FFAppState
    MyApp --> NavBarPage
    FirebaseAuthUser --|> BaseAuthUser
    AuthManager --> FirebaseAuthUser
    NavBarPage --> DoctorPages
    NavBarPage --> KonselingPages
    DoctorPages --> AgoraVideoCall
    KonselingPages --> AgoraVideoCall
